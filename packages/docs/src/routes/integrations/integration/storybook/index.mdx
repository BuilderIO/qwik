---
title: Qwik City and Storybook
keywords: storybook, components, preview, testing, docs
contributors:
  - DustinJSilk
---

# Storybook

Storybook is a frontend tool for building UI components and pages in isolation.
It helps you develop hard-to-reach states and edge cases without needing to run
the whole app. You can test and preview components in a local Storybook UI or
deploy a preview of Storybook to a server to share with your team.

## Usage

You can add Storybook easily by using the following Qwik starter script:

```shell
npm run qwik add storybook
```

> The default configuration for Storybook requires Nodejs v17 or higher

The previous command will add a folder under `.storybook` that holds the
Storybook configuration. Essential dependencies and scripts are added to your
package.json, and a new component is added to `src/components/story-example`
with a Story to get you started.

You can now run a preview server with:

```shell
npm run storybook
```

You can add stories to your components by adding a `component.stories.tsx` which
Storybook will pick up on automatically.

```tsx
import { Meta, StoryObj } from 'storybook-framework-qwik'
import { StoryExample, StoryExampleProps } from './story-example';

export default {
  title: 'Story Example',
  component: StoryExample,
  args: {
    color: 'red',
  },
  argTypes: {
    color: {
      options: ['red', 'green', 'blue'],
      control: {
        type: 'select',
      },
    },
  },
} as Meta<StoryExampleProps>;

export const Default: StoryObj<StoryExampleProps> = {}
```

## With tailwindcss

When using tailwindcss with storybook, avoid adding uneccessary bloat to your
production builds by ignoring tailwind classes that are only used in stories.

Update your `tailwind.config.js` file to ignore stories when building for
production.

```JavaScript
module.exports = {
  content: [
    './src/**/*.{js,ts,jsx,tsx,mdx}',
    process.env.NODE_ENV === 'production' && '!./src/**/*.stories.{js,ts,jsx,tsx,mdx}',
  ],
  ...
}
```

If you are building a static version of your storybook, you'll want to keep
any tailwindcss classes found in your `.stories` files. Try adding an
environment variable to your build script and check if it exists when including
your files.

```JavaScript
process.env.NODE_ENV === 'production' &&
  !process.env.STORYBOOK_BUILD &&
  '!./src/**/*.stories.{js,ts,jsx,tsx,mdx}'
```
